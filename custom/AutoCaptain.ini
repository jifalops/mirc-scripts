[script]
n0=/*
n1=*********************************************************************
n2=*
n3=* Auto Captain: do the obvious for red or blue.
n4=*
n5=* External variables used:
n6=*   %bot_site - the $site of the pug bot.
n7=*
n8=*********************************************************************
n9=*/
n10=
n11=
n12=/*
n13=**********************************
n14=* Aliases
n15=**********************************
n16=*/ 
n17=
n18=/** 
n19=* Manditory alias for each script module.
n20=*/
n21=alias tag return AutoCaptain
n22=
n23=alias get_var {  
n24=  if ($1 && $2) {
n25=    var %chan = $1
n26=    var %team = $2    
n27=    return $tag $+ _ $+ [ %chan ] $+ _ $+ [ %team ]
n28=  }
n29=  else return $1   
n30=}
n31=
n32=alias enabled {
n33=  if ( % [ $+ [ $get_var($1, $2) ] ] == true) return $true
n34=  else return $false
n35=}
n36=
n37=alias enable {
n38=  % [ $+ [ $get_var($1, $2) ] ] = true
n39=}
n40=
n41=alias disable {
n42=  % [ $+ [ $get_var($1, $2) ] ] = false
n43=}
n44=
n45=alias toggle {
n46=  var %global_var = $get_var($1, $2)
n47=  if ($enabled(%global_var)) disable %global_var
n48=  else enable %global_var
n49=}
n50=
n51=/*
n52=**********************************
n53=* Events
n54=**********************************
n55=*/ 
n56=
n57=on 1:text:*pug has been filled*:#: {
n58=  echo -s $site
n59=  if (($site == %bot_site) && ($enabled($chan, red))) { 
n60=    msg $chan .captain
n61=    disable $chan red
n62=  }
n63=}
n64=
n65=
n66=on 1:text:*is captain of:#: {
n67=  if (($site == %bot_site) && ($enabled($chan, blue))) { 
n68=    msg $chan .captain
n69=    disable $chan blue
n70=  }
n71=}
n72=
n73=
n74=
n75=/*
n76=**********************************
n77=* Menus
n78=**********************************
n79=*/ 
n80=
n81=menu channel {
n82=  -   
n83=  $iif($enabled($chan, red), $style(1)) Auto captain red: toggle $chan red 
n84=  $iif($enabled($chan, blue), $style(1)) Auto captain blue: toggle $chan blue
n85=  -
n86=}
